(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},21:function(e,t){e.exports="data:image/png;base64,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"},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),o=(a(29),a(1)),c=(a(18),a(21)),s=a.n(c),m=a(6);var d=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"logo"},r.a.createElement(m.b,{className:"App-logo",to:"/"},r.a.createElement("img",{src:s.a,alt:"logo"}))),r.a.createElement("div",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{className:"welcome-message"},"Hello, Guest!"),r.a.createElement("li",{className:"profile-picture"})))))};var u=function(e){return r.a.createElement("div",null,r.a.createElement("select",{id:"filter",onChange:function(){var t=document.getElementById("filter").value;e.filterRestaurants(t)}},r.a.createElement("option",{value:""},"-- Select rating --"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5")))},p=a(9),g=a.n(p);a(11);var E=function(e){var t=Object(n.useState)(e.restaurantsArray),a=(Object(o.a)(t,1)[0],Object(n.useState)(e.filteredState)),l=Object(o.a)(a,2),i=l[0];return l[1],r.a.createElement("div",null,0===i.length&&r.a.createElement("div",null,"No restaurants have been found!"),i.map(function(e){return r.a.createElement(m.b,{key:e.place_id,to:"/RestaurantPage/"+e.place_id},r.a.createElement("div",{className:"restaurant"},r.a.createElement("div",{className:"restaurant-hero"},r.a.createElement("span",{className:"helper"}),r.a.createElement("img",{src:"https://maps.gstatic.com/mapfiles/place_api/icons/restaurant-71.png",alt:"GBK"})),r.a.createElement("div",{className:"restaurant-details"},r.a.createElement("h3",null,e.name),r.a.createElement("p",{className:"restaurant-category"},e.vicinity),r.a.createElement(g.a,{total:5,rating:e.rating,interactive:!1}),r.a.createElement("span",{className:"ratingsCount"},"(",e.user_ratings_total,")"),r.a.createElement("p",{className:"restaurant-ratings"}),r.a.createElement("button",{className:"review-button"},"Review"))))}))};var w=function(e){var t=Object(n.useState)(e.restaurantsArray),a=Object(o.a)(t,2),l=a[0],i=(a[1],Object(n.useState)(e.filteredState)),c=Object(o.a)(i,2),s=c[0];return c[1],r.a.createElement("div",{className:"main"},r.a.createElement("button",{id:"mobileAnimation",onClick:function(){document.querySelector(".mainContainer").classList.toggle("mobileA")}},"<  >"),r.a.createElement("p",{className:"fr"},s.length," Restaurants"),r.a.createElement(u,{filterRestaurants:function(t){var a=l.filter(function(e){return e.rating>=t});e.updateFiltered(a),console.log(a)},restaurants:l}),r.a.createElement("div",{className:"main-separator"}),r.a.createElement(E,{filteredState:s,restaurantsArray:l}))},v=a(7);var f=function(){return r.a.createElement("div",{className:"main boxContainer"},r.a.createElement("p",{className:"breadCrumbs"},r.a.createElement(m.b,{to:"/"},"Home page")," > ",r.a.createElement("span",{className:"currentPage"},"Add a restaurant")),r.a.createElement("div",{className:"title box"},r.a.createElement("h1",null,"Add a restaurant"),r.a.createElement("p",null,"And let thousands of eaters discover it")),r.a.createElement("div",{className:"form box"},r.a.createElement("form",{action:""},r.a.createElement("label",{htmlFor:"restaurantName"},"Restaurant Name"),r.a.createElement("input",{type:"text",name:"restaurantName"}),r.a.createElement("label",{htmlFor:"lng"},"Restaurant Longitude"),r.a.createElement("input",{type:"text",disabled:!0,name:"lng",value:"Click on the map to fill"}),r.a.createElement("label",{htmlFor:"lat"},"Restaurant Latitude"),r.a.createElement("input",{disabled:!0,type:"text",name:"lat",value:"Click on the map to fill"}),r.a.createElement("button",{className:"addButton"},"Add"))))},A=a(12);var b=function(e){var t=e.addNewReview,a=(e.restaurant,Object(n.useState)(0)),l=Object(o.a)(a,2),i=l[0],c=l[1];return Object(n.useEffect)(function(){}),r.a.createElement("div",{className:"addReviewForm"},r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"Rating"},"How well did they do"),r.a.createElement(g.a,{total:5,rating:0,onRate:function(e){var t=e.rating;c(t)}}),r.a.createElement("p",{id:"ratingRequired"}),r.a.createElement("label",{htmlFor:"textArea"},"Comments ( Optional )"),r.a.createElement("textarea",{id:"textArea"}),r.a.createElement("button",{className:"review-button",onClick:function(e){if(e.preventDefault(),i){var a=document.getElementById("textArea").value;t({author_name:"anonymous",profile_photo_url:"http://romanroadtrust.co.uk/wp-content/uploads/2018/01/profile-icon-png-898-300x300.png",rating:i,text:a}),document.getElementById("ratingRequired").innerHTML=""}else document.getElementById("ratingRequired").innerHTML="Please choose star rating"}},"Add Review")))};var h=function(e){var t=e.match,a=e.map,l=e.restaurantsArray,i=(e.updateMain,Object(n.useState)(l)),c=Object(o.a)(i,1)[0],s=Object(n.useState)([]),d=Object(o.a)(s,2),u=d[0],p=d[1];Object(n.useEffect)(function(){var e={placeId:t.params.id};new window.google.maps.places.PlacesService(a).getDetails(e,function(e,t){t===window.google.maps.places.PlacesServiceStatus.OK&&p(e.reviews)});for(var n=null,r=0;r<c.length;r++)c[r].place_id==t.params.id&&(n=c[r].geometry.location);new window.google.maps.StreetViewPanorama(document.getElementById("pano"),{position:n,pov:{heading:34,pitch:10}})},[]);var E=function(e){var t=new Array;u?t=[e].concat(Object(A.a)(u)):(t=[e],console.log(typeof t)),p(t)};return r.a.createElement("div",null,c.map(function(e,a){return t.params.id==e.place_id&&r.a.createElement("div",{key:e.place_id,className:"main boxContainer"},r.a.createElement("p",{className:"breadCrumbs"},r.a.createElement(m.b,{to:"/"},"Home page")," > ",r.a.createElement("span",{className:"currentPage"},e.name)),r.a.createElement("div",{className:"title box"},r.a.createElement("h1",null,e.name,r.a.createElement("span",{className:"stars"})),r.a.createElement("p",null,e.vicinity),e.opening_hours&&r.a.createElement("p",{className:e.opening_hours.open_now?"open":"closed"},e.opening_hours.open_now?"Open":"Closed"),r.a.createElement(g.a,{total:5,rating:e.rating,interactive:!1}),r.a.createElement("span",{className:"ratingsCount"},"(",e.user_ratings_total,")")),r.a.createElement("div",{className:"box"},r.a.createElement(b,{restaurant:a,addNewReview:E})),r.a.createElement("div",{className:"box"},r.a.createElement("h3",null,"Reviews"),u&&u.map(function(e,t){return r.a.createElement("div",{key:t,className:"review"},r.a.createElement("div",{className:"reviewerDetails"},r.a.createElement("div",{className:"fl"},r.a.createElement("img",{src:e.profile_photo_url,alt:"profile pic"})),r.a.createElement("p",{className:"reviewerName"},e.author_name),r.a.createElement(g.a,{total:5,rating:e.rating,interactive:!1})),r.a.createElement("p",null,e.text))}),!u&&r.a.createElement("div",null,"No reviews have been found!")),r.a.createElement("div",{className:"box streetView"},r.a.createElement("h3",null,"Street view"),r.a.createElement("div",{id:"map2"},r.a.createElement("div",{id:"pano"},"something"))))}))};var N=function(e){var t=e.addNewRestaurant,a=e.closeAddRestaurantWindow,n=e.newRestaurant;return r.a.createElement("div",{className:"add-restaurant-map"},r.a.createElement("button",{className:"xButton fr",onClick:function(e){a()}},"x"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"restaurantName",id:"rNLabel"},"Restaurant Name: "),r.a.createElement("input",{type:"text",id:"restaurantName",name:"restaurantName"}),r.a.createElement("label",{htmlFor:"restaurantAddress",id:"rALabel"},"Restaurant Address: "),r.a.createElement("input",{type:"text",id:"restaurantAddress",name:"restaurantName"}),r.a.createElement("label",{htmlFor:"lat"},"Restaurant coordinates: "),r.a.createElement("input",{type:"text",name:"lat",id:"lat",disabled:!0,value:n.latLng.lat()}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"lng",id:"lng",disabled:!0,value:n.latLng.lng()}),r.a.createElement("label",{htmlFor:"textArea"},"Description"),r.a.createElement("textarea",{id:"textArea"}),r.a.createElement("button",{onClick:function(e){e.preventDefault();var a=document.getElementById("restaurantName").value,n=document.getElementById("restaurantAddress").value,r=parseFloat(document.getElementById("lng").value),l=parseFloat(document.getElementById("lat").value);if(""===a||""===n)if(""===a){var i=document.getElementById("rNLabel");if(i.innerHTML="Restaurant Name: Please fill in this field",i.style.color="red",""===n){var o=document.getElementById("rALabel");o.innerHTML="Restaurant Address: Please fill in this field",o.style.color="red"}}else{var c=document.getElementById("rALabel");c.innerHTML="Restaurant Address: Please fill in this field",c.style.color="red"}else{var s={geometry:{location:{lat:l,lng:r}},name:a,vicinity:n,place_id:Date.now(),rating:0,user_ratings_total:0};t(s)}}},"Add Restaurant")))};var y=function(e){var t,a=Object(n.useState)(e.reastaurantsArray),l=Object(o.a)(a,2),i=l[0],c=l[1],s=Object(n.useState)(e.filteredState),m=Object(o.a)(s,2),d=(m[0],m[1]),u=Object(n.useState)(null),p=Object(o.a)(u,2),g=p[0],E=p[1],w=Object(n.useState)(null),v=Object(o.a)(w,2),f=v[0],b=v[1];Object(n.useEffect)(function(){var a=new window.google.maps.Map(document.getElementById("map"),{center:{lat:51.60678645581746,lng:-.006617395123285},zoom:15});b(a),navigator.geolocation.getCurrentPosition(function(t){var n={lat:t.coords.latitude,lng:t.coords.longitude};a.setCenter(n),y(n,a,"https://sheengroup.com.au/assets/Uploads/misc/current-location.png"),new window.google.maps.places.PlacesService(a).nearbySearch({location:a.getCenter(),radius:"1000",type:["restaurant"]},function(t,n){if(e.updateMain(t,a),c(t),d(t),n===window.google.maps.places.PlacesServiceStatus.OK)for(var r=0;r<t.length;r++){var l=t[r],i="<h3>"+l.name+"</h3><h4>"+l.vicinity+"</h4>Rating: ";l.rating>0?i+=l.rating:i+="No ratings found!";var o=new window.google.maps.Marker({position:l.geometry.location,animation:window.google.maps.Animation.DROP,map:a,title:l.name,icon:{url:"https://cdn4.iconfinder.com/data/icons/map-pins-2/256/21-512.png",scaledSize:new window.google.maps.Size(50,50)}}),s=new window.google.maps.InfoWindow({content:i});h(o,a,s,i),o.setMap(a)}})}),a.addListener("click",function(e){t&&t.close(),E(e)})},[]);var h=function(e,a,n,r){e.addListener("click",function(){t&&t.close(),(t=n).setContent(r),t.open(a,e)})},y=function(e,a,n,r){var l=new window.google.maps.Marker({position:e,animation:window.google.maps.Animation.DROP,map:a,icon:{url:n,scaledSize:new window.google.maps.Size(50,50)}});l.addListener("click",function(){t&&t.close();var e=new window.google.maps.InfoWindow({content:""});t=e,e.setContent("My location"),e.open(a,l)})};return r.a.createElement("div",null,r.a.createElement("div",{id:"map"}),g&&r.a.createElement(N,{addNewRestaurant:function(t){var a="<h3>"+t.name+"</h3><h4>"+t.vicinity+"</h4>Rating: ";t.rating>0?a+=t.rating:a+="No ratings found!";var n=new window.google.maps.Marker({position:t.geometry.location,animation:window.google.maps.Animation.DROP,map:f,title:t.name,icon:{url:"https://cdn4.iconfinder.com/data/icons/map-pins-2/256/21-512.png",scaledSize:new window.google.maps.Size(50,50)}}),r=new window.google.maps.InfoWindow({content:a});h(n,f,r,a),n.setMap(f);var l=[t].concat(Object(A.a)(i));c(l),d(l),e.updateMain(l,f),E(null)},closeAddRestaurantWindow:function(e){E(null)},newRestaurant:g}))};var R=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(o.a)(i,2),s=c[0],u=c[1],p=Object(n.useState)([]),g=Object(o.a)(p,2),E=g[0],A=g[1],b=function(e,t){l(e),A(e),u(t)},N=function(e){A(e),console.log(E)};return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(d,null),r.a.createElement("div",{className:"mainContainer"},r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0,component:function(){return r.a.createElement(w,{filteredState:E,restaurantsArray:a,updateFiltered:N})}}),r.a.createElement(v.a,{path:"/AddRestaurant",component:f}),r.a.createElement(v.a,{path:"/RestaurantPage/:id",render:function(e){return r.a.createElement(h,Object.assign({},e,{map:s,updateMain:b,filteredState:E,restaurantsArray:a,isAuthed:!0}))}})),r.a.createElement("div",{style:{width:"100vw"}},r.a.createElement(y,{filteredState:E,reastaurantsArray:a,updateMain:b})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.3fd0d1b5.chunk.js.map